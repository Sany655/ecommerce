import{W as f,r as y,j as a,F as x,a as e,Y as w,b as _,y as F}from"./app-a1ac7c39.js";import{M as N,S as C,D as S}from"./SecondaryButton-d80d1fef.js";import{T as o,I as m}from"./TextInput-b7d5de7f.js";import{I as i}from"./InputLabel-a33bbcd2.js";import{P as v}from"./PrimaryButton-5fcae703.js";import{S as b}from"./SelectInput-d6c6accb.js";import{A as k}from"./AuthenticatedLayout-3e528b3f.js";import"./transition-24b98915.js";import"./ApplicationLogo-5b869f1b.js";import"./NavLink-1614efb6.js";function E(){const{data:t,setData:r,post:d,processing:l,errors:c,reset:h}=f({name:"",code:"",value:"",type:"fixed",expiry_date:"",minimum_purchase:"",status:!0}),[g,u]=y.useState(!1);return a(x,{children:[e(v,{onClick:()=>u(!0),children:"Add Coupon"}),e(N,{onClose:()=>u(!g),show:g,children:a("div",{className:"p-5",children:[a("h3",{className:"flex items-center justify-between mb-3 text-2xl font-bold",children:[e("span",{children:"Create Coupon"}),e("i",{className:"fa fa-close cursor-pointer",onClick:()=>u(!1)})]}),a("form",{className:"flex flex-col gap-5",onSubmit:n=>{n.preventDefault(),d(route("coupon.store"),{forceFormData:!0,onSuccess:()=>{h(),u(!1)},onError:s=>console.log(s)})},encType:"multipart/form-data",children:[a("div",{children:[e(i,{htmlFor:"name",children:"Coupon Name*"}),e(o,{className:"w-full",id:"name",required:!0,placeholder:"Name",name:"name",value:t.name,onChange:n=>r("name",n.target.value)}),e(m,{message:c.name,className:"mt-2"})]}),a("div",{className:"",children:[e(i,{htmlFor:"code",children:"Coupon Code *"}),e(o,{className:"w-full",id:"code",placeholder:"Coupon Code",name:"code",required:!0,value:t.code,onChange:n=>r("code",n.target.value)}),e(m,{message:c.code,className:"mt-2"})]}),a("div",{className:"",children:[e(i,{htmlFor:"type",children:"Select Type*"}),a(b,{required:!0,className:"w-full",id:"type",name:"type",value:t.type,onChange:n=>r("type",n.target.value),children:[e("option",{value:"",children:"Select Type"}),e("option",{value:"fixed",children:"Fixed Amount"}),e("option",{value:"percentage",children:"Percentage"})]}),e(m,{message:c.type,className:"mt-2"})]}),a("div",{className:"",children:[e(i,{htmlFor:"value",children:"Value (price amount/percentage) *"}),e(o,{required:!0,className:"w-full",id:"value",placeholder:"value or percentage",name:"value",value:t.value,onChange:n=>r("value",n.target.value),type:"number"}),e(m,{message:c.value,className:"mt-2"})]}),a("div",{className:"",children:[e(i,{htmlFor:"minimum_purchase",children:"Minimum Purchase"}),e(o,{className:"w-full",id:"minimum_purchase",placeholder:"minimum purchase amount",name:"minimum_purchase",value:t.minimum_purchase,onChange:n=>r("minimum_purchase",n.target.value),type:"number"}),e("small",{className:"text-blue-400",children:"Coupon will be applicable with minimum amount of purchase"}),e(m,{message:c.minimum_purchase,className:"mt-2"})]}),a("div",{className:"",children:[e(i,{htmlFor:"expiry_date",children:"Expiry Date"}),e(o,{className:"w-full",id:"expiry_date",placeholder:"value or percentage",name:"expiry_date",value:t.expiry_date,onChange:n=>r("expiry_date",n.target.value),type:"date"}),e("small",{className:"text-blue-400",children:"After this date coupon won't work!"}),e(m,{message:c.expiry_date,className:"mt-2"})]}),a("div",{className:"flex items-center gap-2",children:[e("input",{type:"checkbox",id:"status",name:"status",checked:t.status,onChange:n=>r("status",n.target.checked),className:"text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e(i,{htmlFor:"status",className:"text-sm text-gray-700",children:"Assign for display"})]}),a("div",{className:"flex items-center justify-between",children:[e(C,{onClick:()=>u(!g),children:"Close"}),e(v,{disabled:l,children:"Create"})]})]})]})})]})}function M({coupon:t}){const{data:r,setData:d,patch:l,processing:c,errors:h,reset:g}=f({name:t.name,code:t.code,value:t.value,type:t.type,expiry_date:t.expiry_date||"",minimum_purchase:t.minimum_purchase||"",status:t.status}),[u,p]=y.useState(!1);return a(x,{children:[e(v,{onClick:()=>p(!0),children:"Edit Coupon"}),e(N,{onClose:()=>p(!u),show:u,children:a("div",{className:"p-5",children:[a("h3",{className:"flex items-center justify-between mb-3 text-2xl font-bold",children:[e("span",{children:"Edit Coupon"}),e("i",{className:"fa fa-close cursor-pointer",onClick:()=>p(!1)})]}),a("form",{className:"flex flex-col gap-5",onSubmit:s=>{s.preventDefault(),l(route("coupon.update",t.id),{onSuccess:()=>{p(!1)},preserveScroll:!0})},children:[a("div",{children:[e(i,{htmlFor:"name",children:"Coupon Name*"}),e(o,{className:"w-full",id:"name",required:!0,placeholder:"Name",name:"name",value:r.name,onChange:s=>d("name",s.target.value)}),e(m,{message:h.name,className:"mt-2"})]}),a("div",{className:"",children:[e(i,{htmlFor:"code",children:"Coupon Code *"}),e(o,{className:"w-full",id:"code",placeholder:"Coupon Code",name:"code",required:!0,value:r.code,onChange:s=>d("code",s.target.value)}),e(m,{message:h.code,className:"mt-2"})]}),a("div",{className:"",children:[e(i,{htmlFor:"type",children:"Select Type*"}),a(b,{required:!0,className:"w-full",id:"type",name:"type",value:r.type,onChange:s=>d("type",s.target.value),children:[e("option",{value:"",children:"Select Type"}),e("option",{value:"fixed",children:"Fixed Amount"}),e("option",{value:"percentage",children:"Percentage"})]}),e(m,{message:h.type,className:"mt-2"})]}),a("div",{className:"",children:[e(i,{htmlFor:"value",children:"Value (price amount/percentage) *"}),e(o,{required:!0,className:"w-full",id:"value",placeholder:"value or percentage",name:"value",value:r.value,onChange:s=>d("value",s.target.value),type:"number"}),e(m,{message:h.value,className:"mt-2"})]}),a("div",{className:"",children:[e(i,{htmlFor:"minimum_purchase",children:"Minimum Purchase"}),e(o,{className:"w-full",id:"minimum_purchase",placeholder:"minimum purchase",name:"minimum_purchase",value:r.minimum_purchase,onChange:s=>d("minimum_purchase",s.target.value),type:"number"}),e("small",{className:"text-blue-400",children:"Coupon will be applicable with minimum amount of purchase"}),e(m,{message:h.minimum_purchase,className:"mt-2"})]}),a("div",{className:"",children:[e(i,{htmlFor:"expiry_date",children:"Expiry Date"}),e(o,{className:"w-full",id:"expiry_date",placeholder:"value or percentage",name:"expiry_date",value:r.expiry_date,onChange:s=>d("expiry_date",s.target.value),type:"date"}),e("small",{className:"text-blue-400",children:"After this date coupon won't work!"}),e(m,{message:h.expiry_date,className:"mt-2"})]}),a("div",{className:"flex items-center gap-2",children:[e("input",{type:"checkbox",id:"status",name:"status",defaultChecked:t.status,checked:r.status,onChange:s=>d("status",s.target.checked),className:"text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e(i,{htmlFor:"status",className:"text-sm text-gray-700",children:"Assign for display"})]}),a("div",{className:"flex items-center justify-between",children:[e(C,{onClick:()=>p(!u),children:"Close"}),e(v,{disabled:c,children:"Update"})]})]})]})})]})}function $(t){const{coupons:r}=t,d=l=>{F.delete(`coupon/${l}`,{preserveScroll:!0})};return a(k,{auth:t.auth,errors:t.errors,header:e("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Coupons"}),children:[e(w,{title:"Manage Coupons"}),e("div",{className:"py-12 mt-2 bg-white rounded p-2",children:a("div",{className:"container mx-auto overflow-auto",children:[a("div",{className:"flex items-center justify-between mb-8",children:[e("h2",{className:"text-lg font-semibold",children:"Coupons"}),e(E,{})]}),r.data.length>0?a(x,{children:[e("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:r.data.map((l,c)=>a("div",{className:"p-4 border border-gray-200 rounded-lg shadow-md bg-white flex flex-col justify-between",children:[a("div",{className:"mb-4",children:[e("h3",{className:"text-lg font-bold mb-2",children:l.name}),a("div",{className:"text-sm text-gray-600 mb-2",children:[e("strong",{children:"Code: "}),l.code]}),a("div",{className:"text-sm text-gray-600 mb-2",children:[e("strong",{children:"Type: "}),l.type]}),a("div",{className:"text-sm text-gray-600 mb-2",children:[e("strong",{children:"Value: "}),l.value," ",l.type==="fixed"?e("i",{className:"fa-solid fa-bangladeshi-taka-sign"}):e("i",{className:"fa-solid fa-percentage"})]}),a("div",{className:"text-sm text-gray-600 mb-2",children:[e("strong",{children:"Min Purchase: "}),l.minimum_purchase]}),a("div",{className:"text-sm text-gray-600 mb-2",children:[e("strong",{children:"Expiry: "}),l.expiry_date]}),a("div",{className:"text-sm mb-2",children:[e("strong",{children:"Status: "}),l.status?e("span",{className:"bg-green-500 text-white px-2 py-1 rounded",children:"Active"}):e("span",{className:"bg-red-500 text-white px-2 py-1 rounded",children:"Inactive"})]})]}),a("div",{className:"flex justify-between items-center",children:[e(M,{coupon:l}),e(S,{onClick:()=>d(l.id),children:"Delete"})]})]},c))}),e("div",{className:"flex justify-center mt-4",children:r.links.map((l,c)=>e(_,{href:l.url,as:"button",type:"button",className:`px-4 py-2 mx-1 rounded border ${l.active?"bg-black text-white":"bg-white text-black"}`,disabled:!l.url,dangerouslySetInnerHTML:{__html:l.label}},c))})]}):e("p",{className:"my-40 text-center",children:"No Coupons available"})]})})]})}export{$ as default};
