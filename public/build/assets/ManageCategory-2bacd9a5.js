import{r as u,a as e,W as N,j as t,F as v,Y as _,b as A,y as D}from"./app-a1ac7c39.js";import{M as C,S as x,D as j}from"./SecondaryButton-d80d1fef.js";import{T as w,I as m}from"./TextInput-b7d5de7f.js";import{I as h}from"./InputLabel-a33bbcd2.js";import{P as y}from"./PrimaryButton-5fcae703.js";import{S as k}from"./SelectInput-d6c6accb.js";import{A as M}from"./AuthenticatedLayout-3e528b3f.js";import"./transition-24b98915.js";import"./ApplicationLogo-5b869f1b.js";import"./NavLink-1614efb6.js";const S=u.forwardRef(function({type:s="text",className:o="",isFocused:r=!1,...d},l){const g=l||u.useRef();return u.useEffect(()=>{r&&g.current.focus()},[]),e("textarea",{...d,type:s,className:"border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm "+o,ref:g})});function I({categories:i}){const{data:s,setData:o,post:r,processing:d,errors:l,reset:g}=N({name:"",description:"",banner:null,parent_id:null,attributes:"",status:!0}),[p,c]=u.useState(!1),[f,b]=u.useState("");return t(v,{children:[e(y,{onClick:()=>c(!0),children:"Add Category"}),e(C,{onClose:()=>c(!p),show:p,children:t("div",{className:"p-5",children:[t("h3",{className:"mb-3 text-2xl font-bold flex justify-between items-center",children:[e("span",{children:"Create Category"}),e("i",{className:"fa fa-close cursor-pointer",onClick:()=>c(!1)})]}),t("form",{className:"flex flex-col gap-5",onSubmit:a=>{a.preventDefault(),r(route("category.store"),{forceFormData:!0,onSuccess:()=>{g(),c(!1)}})},encType:"multipart/form-data",children:[t("div",{children:[e(h,{htmlFor:"name",children:"Category Name"}),e(w,{required:!0,id:"name",name:"name",placeholder:"Enter category name",value:s.name,onChange:a=>o("name",a.target.value),className:"w-full px-4 py-2 border rounded-md focus:ring focus:ring-indigo-200 focus:outline-none"}),e(m,{message:l.name,className:"mt-2 text-red-500 text-sm"})]}),t("div",{children:[e(h,{htmlFor:"description",children:"Description"}),e(S,{required:!0,id:"description",name:"description",placeholder:"Enter category description",value:s.description,onChange:a=>o("description",a.target.value),className:"w-full px-4 py-2 border rounded-md focus:ring focus:ring-indigo-200 focus:outline-none"}),e(m,{message:l.description,className:"mt-2 text-red-500 text-sm"})]}),t("div",{children:[e(h,{htmlFor:"name",children:"Category Attributes"}),e("ul",{className:"flex gap-2 m-2",children:s.attributes.length>0&&s.attributes.split(",").map((a,F)=>t("li",{className:"border shadow-md px-2",children:[a," ",e("i",{className:"fa fa-close",onClick:()=>o("attributes",s.attributes.split(",").filter(E=>E!==a).join(","))})]},F))}),t("div",{className:"flex",children:[e("input",{type:"text",placeholder:"Enter attribute",className:"flex-grow px-4 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-indigo-300",value:f,onChange:a=>b(a.target.value)}),e("button",{type:"button",className:"px-6 py-2 bg-indigo-600 text-white font-semibold rounded-r-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-300",onClick:()=>o("attributes",(s.attributes.length>0?s.attributes+",":"")+f)&b(""),children:e("i",{className:"fa fa-plus"})})]}),e(m,{message:l.name,className:"mt-2 text-red-500 text-sm"})]}),t("div",{children:[e(h,{htmlFor:"banner",children:"Category Banner"}),e("input",{type:"file",id:"banner",name:"banner",required:!0,onChange:a=>o("banner",a.target.files[0]),accept:"image/*",className:"w-full px-4 py-2 border rounded-md focus:ring focus:ring-indigo-200 focus:outline-none"}),e(m,{message:l.banner,className:"mt-2 text-red-500 text-sm"})]}),i.length>0&&t("div",{children:[e(h,{htmlFor:"parent_id",children:"Parent Category"}),t(k,{id:"parent_id",name:"parent_id",onChange:a=>o("parent_id",a.target.value),className:"w-full px-4 py-2 border rounded-md focus:ring focus:ring-indigo-200 focus:outline-none",children:[e("option",{value:"",children:"Select Category to use it as subcategory"}),i.map(a=>e("option",{value:a.id,children:a.name},a.id))]})]}),t("div",{className:"flex items-center gap-2",children:[e("input",{type:"checkbox",id:"status",name:"status",checked:s.status,onChange:a=>o("status",a.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),e(h,{htmlFor:"status",className:"text-sm text-gray-700",children:"Assign for display"})]}),t("div",{className:"flex justify-between items-center mt-4",children:[e(x,{type:"button",onClick:()=>c(!p),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Close"}),e(y,{type:"submit",disabled:d,className:`px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 ${d?"opacity-50 cursor-not-allowed":""}`,children:"Create"})]})]})]})})]})}function T({category:i,categories:s}){const[o,r]=u.useState(!1),{data:d,setData:l,post:g,processing:p,errors:c,reset:f}=N();return u.useState(""),u.useEffect(()=>{l({_method:"PATCH",name:i.name,description:i.description||"",attributes:i.attributes||"",parent_id:i.parent_id,banner:null,status:i.status})},[i]),t(v,{children:[e(x,{onClick:()=>r(!0),children:"Edit Category/Subcategory"}),e(C,{onClose:()=>r(!o),show:o,children:t("div",{className:"p-5",children:[t("h3",{className:"flex items-center justify-between mb-3 text-2xl font-bold",children:[e("span",{children:"Edit Category"}),e("i",{className:"fa fa-close cursor-pointer",onClick:()=>r(!1)})]}),t("form",{className:"space-y-6",onSubmit:n=>{n.preventDefault(),g(route("category.update",i.id),{onSuccess:()=>{r(!1)},preserveScroll:!0})},encType:"multipart/form-data",children:[t("div",{className:"flex flex-col",children:[e("label",{htmlFor:"name",className:"text-sm font-medium text-gray-700",children:"Category Name"}),e(w,{required:!0,id:"name",placeholder:"Enter category name",name:"name",value:d.name,onChange:n=>l("name",n.target.value),className:"px-4 py-2 mt-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-300 focus:outline-none"}),e(m,{message:c.name,className:"mt-2 text-sm text-red-500"})]}),t("div",{className:"flex flex-col",children:[e("label",{htmlFor:"description",className:"text-sm font-medium text-gray-700",children:"Description"}),e(S,{required:!0,id:"description",name:"description",placeholder:"Enter category description",value:d.description,onChange:n=>l("description",n.target.value),className:"px-4 py-2 mt-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-300 focus:outline-none"}),e(m,{message:c.description,className:"mt-2 text-sm text-red-500"})]}),t("div",{className:"flex flex-col",children:[t("label",{htmlFor:"attributes",className:"text-sm font-medium text-gray-700",children:["Category Attributes ",e("small",{children:"(attribute-1,attribute-2,attribute-3,etc)"})]}),e("input",{id:"attributes",name:"attributes",placeholder:"Enter category attributes",value:d.attributes,onChange:n=>l("attributes",n.target.value),className:"px-4 py-2 mt-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-300 focus:outline-none"}),e(m,{message:c.attributes,className:"mt-2 text-sm text-red-500"})]}),t("div",{className:"flex flex-col",children:[e("label",{htmlFor:"banner",className:"text-sm font-medium text-gray-700",children:"Upload Banner Image"}),e("input",{type:"file",id:"banner",name:"banner",onChange:n=>{n.target.files.length>0&&l("banner",n.target.files[0])},accept:"image/*",className:"mt-1 focus:ring-2 focus:ring-indigo-300"}),e(m,{message:c.banner,className:"mt-2 text-sm text-red-500"})]}),s.length>0&&t("div",{className:"flex flex-col",children:[e("label",{htmlFor:"parent_id",className:"text-sm font-medium text-gray-700",children:"Parent Category (Optional)"}),t(k,{id:"parent_id",name:"parent_id",value:d.parent_id||"",onChange:n=>l("parent_id",n.target.value),className:"px-4 py-2 mt-1 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-300",children:[e("option",{value:"",children:"Select Category to use as subcategory"}),s.map(n=>e("option",{value:n.id,children:n.name},n.id))]})]}),t("div",{className:"flex items-center",children:[e("input",{type:"checkbox",id:"status",name:"status",checked:d.status,onChange:n=>l("status",n.target.checked),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),e("label",{htmlFor:"status",className:"ml-2 text-sm font-medium text-gray-700",children:"Assign for display"})]}),t("div",{className:"flex items-center justify-between",children:[e(x,{onClick:()=>r(!o),className:"text-gray-600 hover:text-gray-800",children:"Close"}),e(y,{disabled:p,className:"px-4 py-2 text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"Update"})]})]})]})})]})}function Y(i){const{categories:s}=i,o=r=>{window.confirm("Are you sure you want to delete this category?")&&D.delete(`category/${r}`,{preserveScroll:!0})};return t(M,{auth:i.auth,errors:i.errors,header:e("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Categories/Subcategories"}),children:[e(_,{title:"Manage Categories"}),e("div",{className:"p-2 mt-2 bg-white rounded",children:t("div",{className:"container mx-auto",children:[t("div",{className:"flex items-center justify-between mb-8",children:[e("h2",{className:"text-lg font-semibold",children:"Categories"}),e(I,{categories:s})]}),s.length>0?s.map((r,d)=>t("div",{className:"relative mb-3 bg-center bg-cover",style:{backgroundImage:`url('storage/${r.banner}')`},children:[e("div",{className:"absolute inset-0 bg-black opacity-50"}),e("div",{className:"relative p-10 text-white",children:t("div",{className:"flex flex-col gap-2 text-center",children:[e("h1",{className:"mb-4 text-4xl font-bold",children:r.name}),e("p",{className:"mb-2 text-lg ",children:r.description}),e("p",{className:"mb-2 text-lg ",children:r.attributes}),t("div",{className:"flex flex-col items-center justify-center gap-4 md:flex-row",children:[e(A,{href:route("category.show",r.id),className:"px-2 py-1 border rounded hover:border-black hover:text-black hover:bg-white",children:"Manage related products"}),e(T,{category:r,categories:s}),e(j,{onClick:()=>o(r.id),children:"Delete category with corresponding products"})]})]})})]},d)):e("p",{className:"my-40 text-center",children:"No category availabe"})]})})]})}export{Y as default};
