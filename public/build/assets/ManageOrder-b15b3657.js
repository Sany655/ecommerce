import{j as a,a as e,Y as m,b as g,r as h,c as u,y as b}from"./app-a1ac7c39.js";import{S as p}from"./SelectInput-d6c6accb.js";import{A as x}from"./AuthenticatedLayout-3e528b3f.js";import"./ApplicationLogo-5b869f1b.js";import"./transition-24b98915.js";import"./NavLink-1614efb6.js";function S(t){const{orders:r}=t;return a(x,{auth:t.auth,errors:t.errors,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Orders"}),children:[e(m,{title:"Manage Orders"}),e("div",{className:"bg-white rounded py-12 mt-2 px-2",children:a("div",{className:"container mx-auto",children:[e("div",{className:"flex justify-between items-center mb-8",children:e("div",{className:"flex items-center gap-2",children:e("h2",{className:"text-lg font-semibold",children:"Orders"})})}),r.data.length>0?e("div",{className:"grid gap-6 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:r.data.map((i,n)=>e(N,{order:i},n))}):e("p",{className:"my-40 text-center",children:"No Orders available"}),e("div",{className:"mt-4 flex justify-center",children:r.links.map((i,n)=>e(g,{href:i.url,as:"button",type:"button",className:`px-4 py-2 mx-1 rounded border ${i.active?"bg-black text-white":"bg-white text-black"}`,disabled:!i.url,dangerouslySetInnerHTML:{__html:i.label}},n))})]})})]})}function N({order:t}){const[r,i]=h.useState(!1),n=(s,d)=>{i(!0),u.put(route("home.order_status",s),{status:d}).then(()=>{b.reload()}).catch(l=>{alert(l.response.data.message),console.log(l.response.data)}).finally(()=>i(!1))};return a("div",{className:`p-6 border border-gray-200 rounded-lg shadow-md flex flex-col justify-between ${t.status==="pending"?"bg-white":t.status==="processing"?"bg-yellow-500":t.status==="completed"?"bg-green-500":"bg-red-200"}`,children:[a("div",{className:"mb-4",children:[a("h3",{className:"text-lg font-bold mb-2",children:["Order ID: ",t.id]}),a("div",{className:"text-md text-gray-600 mb-2",children:[e("strong",{children:"User Info:"})," ",e("br",{}),e("strong",{children:"Name: "})," ",t.name," ",e("br",{}),e("strong",{children:"Email: "})," ",t.email," ",e("br",{}),e("strong",{children:"Mobile: "})," ",t.mobile," ",e("br",{}),e("strong",{children:"Address: "})," ",t.address," ",e("br",{}),e("strong",{children:"Division: "})," ",t.division]}),a("div",{className:"text-md text-gray-600 mb-2",children:[e("strong",{children:"Note: "}),t.notes||"N/A"]}),a("div",{className:"text-md text-gray-600 mb-2",children:[e("strong",{children:"Order Items: "}),e("ul",{children:t.order_items.map((s,d)=>{var l;return a("li",{children:[d+1,". ",(l=s.product)==null?void 0:l.name," x ",s.quantity," ",e("br",{}),s.variants&&a("span",{className:"text-sm text-gray-500",children:["Variants: ",JSON.parse(s.variants).map((c,o)=>a("span",{children:[c.attribute,": ",c.value,", "]},o))]})," ",e("br",{})," Subtotal: ",s.subtotal," BDT"]},d)})})]}),a("div",{className:"text-md text-gray-600 mb-2",children:[e("strong",{children:"Total Price: "}),t.total_price," BDT"]}),a("div",{className:"text-md text-gray-600 mb-2",children:[e("strong",{children:"Coupon ID: "}),t.coupon_id||"N/A"]}),a("div",{className:"text-md text-gray-600 mb-2",children:[e("strong",{children:"Ordered Date: "}),new Date(t.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})]}),a("div",{className:"text-md text-gray-600 mb-2",children:[e("strong",{children:"Updated Date: "}),new Date(t.updated_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})]})]}),e("div",{className:"mt-4",children:r?e("i",{className:"fa fa-spinner animate-spin"}):a(p,{value:t.status,onChange:s=>n(t.id,s.target.value),children:[e("option",{value:"pending",children:"Pending"}),e("option",{value:"processing",children:"Processing"}),e("option",{value:"completed",children:"Completed"}),e("option",{value:"cancelled",children:"Cancelled"})]})})]})}export{S as default};
